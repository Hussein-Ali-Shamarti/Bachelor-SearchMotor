{"ast":null,"code":"var _jsxFileName = \"/Users/husseinshamarti/Desktop/Skole/Bachelor-SearchMotorAI/Bachelor-SearchMotor/frontend/src/SearchPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { ClipLoader } from \"react-spinners\";\nimport \"./SearchPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchPage = () => {\n  _s();\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [visibleResults, setVisibleResults] = useState(5);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [selectedArticle, setSelectedArticle] = useState(null);\n  const [articleSummary, setArticleSummary] = useState(\"\");\n  const [summaryLoading, setSummaryLoading] = useState(false);\n\n  // Generate embedding for the search query\n  const generateEmbedding = async query => {\n    try {\n      const response = await axios.post(\"http://127.0.0.1:5001/generate-embedding\",\n      // Corrected URL\n      {\n        text: query\n      });\n      return response.data.embedding;\n    } catch (error) {\n      console.error(\"Embedding API Error:\", error);\n      setError(\"Failed to generate embedding. Please try again.\");\n      return null;\n    }\n  };\n\n  // Fetch the summary of the selected article\n  const fetchArticleSummary = async articleId => {\n    try {\n      setSummaryLoading(true);\n      console.log(`Fetching summary for article ID: ${articleId}`);\n      const response = await axios.get(`http://127.0.0.1:5001/article-summary/${articleId}` // Correct URL here\n      );\n\n      // Debugging: Log the response from the server\n      console.log(\"Summary Response:\", response.data);\n      if (response.data.summary) {\n        setArticleSummary(response.data.summary);\n      } else {\n        setArticleSummary(\"No summary available.\");\n      }\n    } catch (err) {\n      console.error(\"Failed to fetch article summary:\", err);\n      setArticleSummary(\"Error fetching summary.\");\n    } finally {\n      setSummaryLoading(false);\n    }\n  };\n\n  // Handle the search functionality\n  const handleSearch = async () => {\n    if (!query.trim()) {\n      setError(\"Please enter a search query.\");\n      return;\n    }\n    setLoading(true);\n    setError(\"\");\n    setResults([]);\n    setVisibleResults(5);\n    setSelectedArticle(null);\n    setArticleSummary(\"\");\n    const embedding = await generateEmbedding(query);\n    if (!embedding) {\n      setLoading(false);\n      return;\n    }\n    try {\n      const response = await axios.post(\"http://127.0.0.1:5001/ai-search\", {\n        // Corrected URL\n        embedding,\n        k: 50\n      });\n      if (response.data.error) {\n        setError(response.data.error);\n      } else if (Array.isArray(response.data) && response.data.length > 0) {\n        setResults(response.data);\n      } else {\n        setError(\"No relevant articles found.\");\n      }\n    } catch (err) {\n      setError(\"Failed to fetch results. Ensure Flask server is running.\");\n      console.error(\"Search API Error:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load more results on button click\n  const loadMoreResults = () => setVisibleResults(prev => prev + 10);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"AI-Powered Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: query,\n        onChange: e => setQuery(e.target.value),\n        placeholder: \"Enter search query...\",\n        className: \"search-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearch,\n        className: \"search-button\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-spinner\",\n      children: /*#__PURE__*/_jsxDEV(ClipLoader, {\n        size: 50,\n        color: \"#123abc\",\n        loading: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-list\",\n        children: [results.length === 0 && !loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No results found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: results.slice(0, visibleResults).map(article => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: `result-item ${(selectedArticle === null || selectedArticle === void 0 ? void 0 : selectedArticle.id) === article.id ? \"selected\" : \"\"}`,\n            onClick: () => {\n              if ((selectedArticle === null || selectedArticle === void 0 ? void 0 : selectedArticle.id) !== article.id) {\n                setSelectedArticle(article);\n                setArticleSummary(\"\"); // Clear previous summary\n                fetchArticleSummary(article.id);\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: article.title || \"No Title Available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Author(s):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 21\n              }, this), \" \", article.author || \"Unknown\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Abstract:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 21\n              }, this), \" \", article.abstract ? article.abstract.substring(0, 100) + \"...\" : \"No abstract available.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 19\n            }, this)]\n          }, article.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), results.length > visibleResults && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadMoreResults,\n          className: \"load-more-button\",\n          children: \"Load More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), selectedArticle && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selected-article-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Article Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Title:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), \" \", selectedArticle.title || \"N/A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"ISBN:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this), \" \", selectedArticle.isbn || \"N/A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Author(s):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this), \" \", selectedArticle.author || \"Unknown\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Publication Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), \" \", selectedArticle.publication_date || \"N/A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), selectedArticle.pdf_url && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"PDF URL:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: selectedArticle.pdf_url,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: \"View PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Keywords:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), \" \", selectedArticle.keywords ? selectedArticle.keywords.join(\", \") : \"None\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Abstract:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), \" \", selectedArticle.abstract || \"No abstract available.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"article-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this), summaryLoading ? /*#__PURE__*/_jsxDEV(ClipLoader, {\n            size: 30,\n            color: \"#123abc\",\n            loading: summaryLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: articleSummary || \"No summary available.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedArticle(null),\n          className: \"back-button\",\n          children: \"Back to Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchPage, \"rf4BTwDNgdObeppq0b6Gz8sR1Oc=\");\n_c = SearchPage;\nexport default SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["React","useState","axios","ClipLoader","jsxDEV","_jsxDEV","SearchPage","_s","query","setQuery","results","setResults","visibleResults","setVisibleResults","loading","setLoading","error","setError","selectedArticle","setSelectedArticle","articleSummary","setArticleSummary","summaryLoading","setSummaryLoading","generateEmbedding","response","post","text","data","embedding","console","fetchArticleSummary","articleId","log","get","summary","err","handleSearch","trim","k","Array","isArray","length","loadMoreResults","prev","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","size","color","slice","map","article","id","title","author","abstract","substring","isbn","publication_date","pdf_url","href","rel","keywords","join","_c","$RefreshReg$"],"sources":["/Users/husseinshamarti/Desktop/Skole/Bachelor-SearchMotorAI/Bachelor-SearchMotor/frontend/src/SearchPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { ClipLoader } from \"react-spinners\";\nimport \"./SearchPage.css\";\n\nconst SearchPage = () => {\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [visibleResults, setVisibleResults] = useState(5);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [selectedArticle, setSelectedArticle] = useState(null);\n  const [articleSummary, setArticleSummary] = useState(\"\");\n  const [summaryLoading, setSummaryLoading] = useState(false);\n\n  // Generate embedding for the search query\n  const generateEmbedding = async (query) => {\n    try {\n      const response = await axios.post(\n        \"http://127.0.0.1:5001/generate-embedding\", // Corrected URL\n        { text: query }\n      );\n      return response.data.embedding;\n    } catch (error) {\n      console.error(\"Embedding API Error:\", error);\n      setError(\"Failed to generate embedding. Please try again.\");\n      return null;\n    }\n  };\n\n  // Fetch the summary of the selected article\n  const fetchArticleSummary = async (articleId) => {\n    try {\n      setSummaryLoading(true);\n      console.log(`Fetching summary for article ID: ${articleId}`);\n\n      const response = await axios.get(\n        `http://127.0.0.1:5001/article-summary/${articleId}` // Correct URL here\n      );\n\n      // Debugging: Log the response from the server\n      console.log(\"Summary Response:\", response.data);\n\n      if (response.data.summary) {\n        setArticleSummary(response.data.summary);\n      } else {\n        setArticleSummary(\"No summary available.\");\n      }\n    } catch (err) {\n      console.error(\"Failed to fetch article summary:\", err);\n      setArticleSummary(\"Error fetching summary.\");\n    } finally {\n      setSummaryLoading(false);\n    }\n  };\n\n  // Handle the search functionality\n  const handleSearch = async () => {\n    if (!query.trim()) {\n      setError(\"Please enter a search query.\");\n      return;\n    }\n\n    setLoading(true);\n    setError(\"\");\n    setResults([]);\n    setVisibleResults(5);\n    setSelectedArticle(null);\n    setArticleSummary(\"\");\n\n    const embedding = await generateEmbedding(query);\n    if (!embedding) {\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const response = await axios.post(\"http://127.0.0.1:5001/ai-search\", {\n        // Corrected URL\n        embedding,\n        k: 50\n      });\n\n      if (response.data.error) {\n        setError(response.data.error);\n      } else if (Array.isArray(response.data) && response.data.length > 0) {\n        setResults(response.data);\n      } else {\n        setError(\"No relevant articles found.\");\n      }\n    } catch (err) {\n      setError(\"Failed to fetch results. Ensure Flask server is running.\");\n      console.error(\"Search API Error:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load more results on button click\n  const loadMoreResults = () => setVisibleResults((prev) => prev + 10);\n\n  return (\n    <div className=\"search-page-container\">\n      <h1>AI-Powered Search</h1>\n\n      {/* Search Input */}\n      <div className=\"search-section\">\n        <input\n          type=\"text\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          placeholder=\"Enter search query...\"\n          className=\"search-input\"\n        />\n        <button onClick={handleSearch} className=\"search-button\">\n          Search\n        </button>\n      </div>\n\n      {/* Loading Spinner */}\n      {loading && (\n        <div className=\"loading-spinner\">\n          <ClipLoader size={50} color={\"#123abc\"} loading={loading} />\n        </div>\n      )}\n\n      {/* Error Message */}\n      {error && <p className=\"error-message\">{error}</p>}\n\n      {/* Results & Selected Article Side by Side */}\n      <div className=\"results-container\">\n        {/* Scrollable Results List */}\n        <div className=\"results-list\">\n          {results.length === 0 && !loading ? (\n            <p>No results found.</p>\n          ) : (\n            <ul>\n              {results.slice(0, visibleResults).map((article) => (\n                <li\n                  key={article.id}\n                  className={`result-item ${\n                    selectedArticle?.id === article.id ? \"selected\" : \"\"\n                  }`}\n                  onClick={() => {\n                    if (selectedArticle?.id !== article.id) {\n                      setSelectedArticle(article);\n                      setArticleSummary(\"\"); // Clear previous summary\n                      fetchArticleSummary(article.id);\n                    }\n                  }}\n                >\n                  <h4>{article.title || \"No Title Available\"}</h4>\n                  <p>\n                    <strong>Author(s):</strong> {article.author || \"Unknown\"}\n                  </p>\n                  <p>\n                    <strong>Abstract:</strong>{\" \"}\n                    {article.abstract\n                      ? article.abstract.substring(0, 100) + \"...\"\n                      : \"No abstract available.\"}\n                  </p>\n                </li>\n              ))}\n            </ul>\n          )}\n\n          {/* Load More Button */}\n          {results.length > visibleResults && (\n            <button onClick={loadMoreResults} className=\"load-more-button\">\n              Load More\n            </button>\n          )}\n        </div>\n\n        {/* Article Details */}\n        {selectedArticle && (\n          <div className=\"selected-article-container\">\n            <h2>Article Details</h2>\n            <p>\n              <strong>Title:</strong> {selectedArticle.title || \"N/A\"}\n            </p>\n            <p>\n              <strong>ISBN:</strong> {selectedArticle.isbn || \"N/A\"}\n            </p>\n            <p>\n              <strong>Author(s):</strong> {selectedArticle.author || \"Unknown\"}\n            </p>\n            <p>\n              <strong>Publication Date:</strong>{\" \"}\n              {selectedArticle.publication_date || \"N/A\"}\n            </p>\n            {selectedArticle.pdf_url && (\n              <p>\n                <strong>PDF URL:</strong>{\" \"}\n                <a\n                  href={selectedArticle.pdf_url}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  View PDF\n                </a>\n              </p>\n            )}\n            <p>\n              <strong>Keywords:</strong>{\" \"}\n              {selectedArticle.keywords\n                ? selectedArticle.keywords.join(\", \")\n                : \"None\"}\n            </p>\n            <p>\n              <strong>Abstract:</strong>{\" \"}\n              {selectedArticle.abstract || \"No abstract available.\"}\n            </p>\n\n            {/* Article Summary */}\n            <div className=\"article-summary\">\n              <h3>Summary</h3>\n              {summaryLoading ? (\n                <ClipLoader\n                  size={30}\n                  color={\"#123abc\"}\n                  loading={summaryLoading}\n                />\n              ) : (\n                <p>{articleSummary || \"No summary available.\"}</p>\n              )}\n            </div>\n\n            <button\n              onClick={() => setSelectedArticle(null)}\n              className=\"back-button\"\n            >\n              Back to Results\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}